<div class="container">
  <div class="row">
    <div class="col-4">
      <img style="width: 100%" [src]="getImageUrl(produto.imagem)" [alt]="'Foto de ' + produto.nome">
      <h1>{{produto.nome}}</h1>
      <p>{{produto.preco | currency}}</p>
    </div>
    <div class="col-8">
      <form [formGroup]="formulario" autocomplete="off">
        <h2>informe data e hora do seu evento</h2>
        <div class="row">
          <div class="col-6">
            <mat-form-field appearance="fill">
              <mat-label>data</mat-label>
              <input matInput [matDatepicker]="picker" [min]="dataMinima" formControlName="dataAgendamento">
              <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
              <mat-datepicker #picker></mat-datepicker>
              <mat-error *ngIf="formulario.get('dataAgendamento')?.errors?.required">campo obrigatório</mat-error>
            </mat-form-field>
          </div>
          <div class="col-6">
            <mat-form-field appearance="fill">
              <mat-label>hora</mat-label>
              <input matInput mascara="##:##" formControlName="horaAgendamento">
              <mat-error *ngIf="formulario.get('horaAgendamento')?.errors?.required">campo obrigatório</mat-error>
              <mat-error *ngIf="formulario.get('horaAgendamento')?.errors?.horaInvalida">hora inválida</mat-error>
              <mat-error *ngIf="formulario?.errors?.dataHoraAgendamentoInvalido">data de agendamento inválida</mat-error>
            </mat-form-field>
          </div>
          <mat-error *ngIf="formulario?.errors?.dataHoraAgendamentoInvalido">data de agendamento inválida</mat-error>
        </div>
        <h2>você possui alguma observação para o estabelecimento?</h2>
        <div class="row">
          <div class="col-12">
            <mat-form-field appearance="fill">
              <mat-label>observação</mat-label>
              <textarea matInput formControlName="observacao"></textarea>
            </mat-form-field>
          </div>
        </div>
        <h2>informe os dados de pagamento</h2>
        <div class="row" formGroupName="cartao">
          <div class="col-6">
            <mat-form-field appearance="fill">
              <mat-label>nome no cartão</mat-label>
              <input matInput formControlName="nome">
              <mat-error *ngIf="formulario.get('cartao.nome')?.errors?.required">campo obrigatório</mat-error>
            </mat-form-field>
          </div>
          <div class="col-6">
            <mat-form-field appearance="fill">
              <mat-label>número do cartão</mat-label>
              <input matInput mascara="#### #### #### ####" formControlName="numero">
              <mat-error *ngIf="formulario.get('cartao.numero')?.errors?.required">campo obrigatório</mat-error>
            </mat-form-field>
          </div>
          <div class="col-3">
            <mat-form-field appearance="fill">
              <mat-label>vencimento</mat-label>
              <input mascara="##/##" matInput formControlName="dataVencimento">
              <mat-error *ngIf="formulario.get('cartao.dataVencimento')?.errors?.required">campo obrigatório</mat-error>
              <mat-error *ngIf="formulario.get('cartao.dataVencimento')?.errors?.vencimentoInvalido">vencimento inválido</mat-error>
            </mat-form-field>
          </div>
          <div class="col-3">
            <mat-form-field appearance="fill">
              <mat-label>código de segurança</mat-label>
              <input matInput mascara="###" formControlName="cvv">
              <mat-error *ngIf="formulario.get('cartao.cvv')?.errors?.required">campo obrigatório</mat-error>
            </mat-form-field>
          </div>
        </div>
        <div class="row">
          <h2>informe a quantidade</h2>
          <div class="col-3">
            <mat-form-field appearance="fill">
              <mat-label>quantidade</mat-label>
              <input min="1" matInput type="number" formControlName="quantidade">
              <mat-error *ngIf="formulario.get('quantidade')?.errors?.required">campo obrigatório</mat-error>
            </mat-form-field>
          </div>
        </div>
        <div class="row">
          <button mat-button [disabled]="formulario.invalid" (click)="efetuaPedido()">efetuar pedido</button>
        </div>
      </form>
    </div>
  </div>
</div>
